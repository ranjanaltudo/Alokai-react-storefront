"use strict";const s=require("react/jsx-runtime"),z=require("react"),n=require("classnames"),e=require("@storefront-ui/shared"),j=require("../SfIcons/SfIconExpandMore.cjs.js"),H=require("../../hooks/useFocusVisible/useFocusVisible.cjs.js"),r=require("../../shared/utils/props.cjs.js");function k(d){const{size:t=e.SfSelectSize.base,children:u,invalid:p,wrapperClassName:b,slotChevron:g,required:S,disabled:a,className:f,placeholder:i,onBlur:m,onChange:h,onClick:x,onKeyDown:v,...y}=d,{isFocusVisible:q}=H.useFocusVisible(),[w,o]=z.useState(!1),l=()=>o(!0),c=()=>o(!1),C=N=>{N.code==="Space"&&l()};return s.jsxs("span",{className:n("relative flex flex-col rounded-md",{"focus-within:outline focus-within:outline-offset":q},b),"data-testid":"select",children:[s.jsxs("select",{required:S,disabled:a,className:n("appearance-none disabled:cursor-not-allowed cursor-pointer pl-4 pr-3.5 text-neutral-900 focus:ring-primary-700 focus:ring-2 outline-none bg-transparent rounded-md ring-1 ring-inset ring-neutral-300 hover:ring-primary-700 active:ring-2 active:ring-primary-700 disabled:bg-disabled-100 disabled:text-disabled-900 disabled:ring-disabled-200",{"py-1.5":t===e.SfSelectSize.sm,"py-2":t===e.SfSelectSize.base,"py-3 text-base":t===e.SfSelectSize.lg,"!ring-negative-700 ring-2":p&&!a},f),"data-testid":"select-input",onBlur:r.composeHandlers(c,m),onChange:r.composeHandlers(c,h),onClick:r.composeHandlers(l,x),onKeyDown:r.composeHandlers(C,v),...y,children:[i&&s.jsx("option",{disabled:!0,selected:!0,hidden:!0,value:"",className:n("bg-neutral-300 text-sm",{"text-base":t===e.SfSelectSize.lg}),"data-testid":"select-placeholder",children:i}),u]}),g||s.jsx(j,{className:n("box-border absolute -translate-y-1 pointer-events-none top-1/3 right-4 transition easy-in-out duration-0.5",a?"text-disabled-500":"text-neutral-500",{"rotate-180":w})})]})}module.exports=k;
