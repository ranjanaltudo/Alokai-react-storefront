"use client";
"use strict";const q=require("react/jsx-runtime"),x=require("classnames"),S=require("react"),g=require("react-use"),P=require("../../shared/utils/refs.cjs.js"),t=require("@storefront-ui/shared"),R=require("../../shared/utils/index.cjs.js"),h="aside",l=e=>({"left-0":e!==t.SfDrawerPlacement.right,"right-0":e!==t.SfDrawerPlacement.left,"top-0":e!==t.SfDrawerPlacement.bottom,"bottom-0":e!==t.SfDrawerPlacement.top}),p=R.polymorphicForwardRef(({as:e,open:s,placement:c=t.SfDrawerPlacement.left,disableClickAway:f,disableEsc:i,onClose:r,className:n,children:u,...w},d)=>{const m=e||h,a=S.useRef(null);g.useClickAway(a,()=>{f||r==null||r()});const D=o=>{i||o.key==="Escape"&&(r==null||r())};return s?q.jsx(m,{ref:P.mergeRefs([a,d]),className:x("fixed",l(c),n),tabIndex:"-1","data-testid":"drawer",...w,onKeyDown:D,children:u}):null});module.exports=p;
