"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react"),x=require("@storefront-ui/shared"),r=require("../../shared/utils/props.cjs.js");function R({activeIndex:c,direction:b,drag:o,reduceMotion:d,onDragStart:n,onDragEnd:h,onScroll:a,onPrev:g,onNext:k,isActiveIndexCentered:y}={}){const i=s.useRef(null),l=s.useRef(null),[u,C]=s.useState({hasPrev:!1,hasNext:!1,isDragged:!1});s.useEffect(()=>{const e=i.current;if(!e)return()=>{};l.current=new x.Scrollable(e,{direction:b,drag:o,reduceMotion:d,onPrev:g,onNext:k,onScroll:t=>{C(f=>({...f,hasNext:t.hasNext,hasPrev:t.hasPrev})),a==null||a(t)},onDragStart:t=>{C(f=>({...f,isDragged:t.isDragged})),n==null||n(t)},onDragEnd:h});const w=l.current.register();return typeof c=="number"&&c>=0&&y&&l.current.scrollToIndex(c),w},[i,c,b,o,d,n,h,a,g,k,y]);const N=s.useCallback(()=>{var e;(e=l.current)==null||e.prev()},[]),m=s.useCallback(()=>{var e;(e=l.current)==null||e.next()},[]),q=r.createPropsGetter(e=>({onClick:r.composeHandlers(N,e==null?void 0:e.onClick),disabled:typeof e.disabled<"u"?e.disabled:!u.hasPrev})),v=r.createPropsGetter(e=>({onClick:r.composeHandlers(m,e==null?void 0:e.onClick),disabled:typeof e.disabled<"u"?e.disabled:!u.hasNext}));return{containerRef:i,getPrevButtonProps:q,getNextButtonProps:v,showNext:m,showPrev:N,state:u}}exports.useScrollable=R;
